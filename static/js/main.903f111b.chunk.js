(this["webpackJsonpcrud-app"]=this["webpackJsonpcrud-app"]||[]).push([[0],{103:function(e,t,r){e.exports={header:"Header_header__Ncu4J"}},104:function(e,t,r){e.exports={newRecord:"NewRecord_newRecord__2NvWk"}},135:function(e,t,r){e.exports=r(260)},140:function(e,t,r){},141:function(e,t,r){},260:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(45),u=r.n(c),o=(r(140),r(141),r(103)),d=r.n(o),s=function(){return a.a.createElement("header",{className:d.a.header},a.a.createElement("h1",null,"Crud App"))},i=function(){return a.a.createElement(s,null)},l=r(10),m=r.n(l),p=r(21),E=r(100),f=r(101),b=r(104),R=r.n(b),O=Object(f.a)({form:"newRecord"})((function(e){var t=e.handleSubmit;return a.a.createElement("form",{className:R.a.newRecord,onSubmit:t},a.a.createElement(E.a,{component:"input",type:"text",name:"Email",placeholder:"Email",autoFocus:!0}),a.a.createElement(E.a,{component:"input",type:"text",name:"Age",placeholder:"Age"}),a.a.createElement("button",{type:"submit"},"Add new record"))})),_=r(109),h=r(14),v=r(107).create({baseURL:"http://178.128.196.163:3000/api/records/",withCredentials:!0}),D=function(){return v.get("")},j=function(e){return v.put("",{data:e})},w=function(e){return v.delete(e)},x=function(e,t){return v.post(e,{data:t})},y={records:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"crud/GET_RECORDS":return Object(h.a)({},e,{records:t.records});case"crud/ADD_RECORD":return Object(h.a)({},e,{records:[].concat(Object(_.a)(e.records),[t.record])});case"crud/DELETE_RECORD":return Object(h.a)({},e,{records:e.records.filter((function(e){return e._id!==t.id}))});case"crud/UPDATE_RECORD":return Object(h.a)({},e,{records:e.records.map((function(e){return e._id===t.id?Object(h.a)({},e,{data:t.record}):e}))});case"crud/TOGGLE_EDIT_MODE":return Object(h.a)({},e,{records:e.records.map((function(e){return e._id===t.id?Object(h.a)({},e,{editMode:t.isEditMode}):Object(h.a)({},e,{editMode:!1})}))});default:return e}},A=function(e){return{type:"crud/ADD_RECORD",record:e}},g=function(e){return{type:"crud/DELETE_RECORD",id:e}},C=function(e,t){return{type:"crud/UPDATE_RECORD",id:e,record:t}},k=function(e,t){return{type:"crud/TOGGLE_EDIT_MODE",id:e,isEditMode:t}},N=r(9),S={requestAddRecord:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(r){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:200===(n=t.sent).status&&r(A(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},reset:r(23).a},T=Object(N.b)(null,S)((function(e){var t=e.requestAddRecord,r=e.reset,n=function(){var e=Object(p.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:r("newRecord");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(O,{onSubmit:n})})),q=r(28),G=r.n(q),L=function(e){var t=e.record,r=e.setEditMode,n=e.onDeleteRecord;return a.a.createElement("p",{className:G.a.record},a.a.createElement("span",null,t&&t.Email),a.a.createElement("span",null,t&&t.Age),a.a.createElement("span",{className:G.a.buttons},a.a.createElement("button",{onClick:function(){return r(!0)}},"Edit"),a.a.createElement("button",{onClick:n},"Delete")))},U=function(e){var t=e.setEditMode,r=e.handleSubmit;return a.a.createElement("form",{className:G.a.record,onSubmit:r},a.a.createElement("span",null,a.a.createElement(E.a,{component:"input",type:"text",name:"Email",placeholder:"Email",autoFocus:!0})),a.a.createElement("span",null,a.a.createElement(E.a,{component:"input",type:"text",name:"Age",placeholder:"Age"})),a.a.createElement("span",{className:G.a.buttons},a.a.createElement("button",{type:"submit"},"Save"),a.a.createElement("button",{onClick:function(){return t(!1)}},"Cancel")))},I={requestDeleteRecord:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:200===t.sent.status&&r(g(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleEditMode:k,requestUpdateRecord:function(e,t){return function(){var r=Object(p.a)(m.a.mark((function r(n){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x(e,t);case 2:r.sent,n(C(e,t)),n(k(e,!1));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},B=Object(N.b)((function(e){return{}}),I)((function(e){var t=e.id,r=e.record,n=e.requestDeleteRecord,c=e.toggleEditMode,u=e.editMode,o=e.requestUpdateRecord,d=function(e){c(t,e)},s=Object(f.a)({form:"editRecord".concat(t)})(U);return u?a.a.createElement(s,{initialValues:r,setEditMode:d,onSubmit:function(e){o(t,e)}}):a.a.createElement(L,{record:r,setEditMode:d,onDeleteRecord:function(){n(t)}})})),F=r(68),J=r.n(F),P=function(e){var t=e.records;return a.a.createElement("div",{className:J.a.records},a.a.createElement("div",{className:J.a.titles},a.a.createElement("h3",null,"Email"),a.a.createElement("h3",null,"Age"),a.a.createElement("h3",null,"Actions")),a.a.createElement("ul",null,t&&t.map((function(e){var t=e._id,r=e.data,n=e.editMode;return a.a.createElement("li",null,a.a.createElement(B,{key:t,id:t,record:r,editMode:n}))}))))},z=function(e){return e.crud.records},H={requestRecords:function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:200===(r=e.sent).status&&t({type:"crud/GET_RECORDS",records:r.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},W=Object(N.b)((function(e){return{records:z(e)}}),H)((function(e){var t=e.records,r=e.requestRecords;return Object(n.useEffect)((function(){r()}),[]),a.a.createElement(P,{records:t})}));var V=function(){return a.a.createElement("div",{className:"appWrapper"},a.a.createElement(i,null),a.a.createElement(T,null),a.a.createElement(W,null))},Y=r(6),K=r(108),Q=r(102),X=Object(Y.c)({crud:M,form:Q.a}),Z=Object(Y.d)(X,Object(Y.a)(K.a));window.store=Z;var $=Z;u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(N.a,{store:$},a.a.createElement(V,null))),document.getElementById("root"))},28:function(e,t,r){e.exports={record:"Record_record__2jsIB",buttons:"Record_buttons__2YFHz"}},68:function(e,t,r){e.exports={titles:"Records_titles__3SxOO",records:"Records_records__3PzDB"}}},[[135,1,2]]]);
//# sourceMappingURL=main.903f111b.chunk.js.map